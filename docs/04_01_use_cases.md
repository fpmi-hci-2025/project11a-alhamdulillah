---
layout: page
title: Модель требований и реестр вариантов пользования
permalink: /requirements-model-and-use-cases
---

**Модель требований: Действующее лицо → User Story → Use Case**

| Актор               | User Story                                                                                                                              | Use Case                                   |
|---------------------|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------|
| Клиент              | US-1.1 Как клиент ресторана «Махачкала», я хочу видеть меню с ценами и фотографиями, чтобы выбрать блюдо и узнать стоимость.                  | UC 1.1 Просмотреть меню                    |
| Клиент              | US-1.2 Как клиент, я хочу найти ближайший ресторан на карте, чтобы забрать заказ самовывозом.                                               | UC 1.2 Найти ближайший ресторан            |
| Клиент              | US-1.3 Как клиент, я хочу оформить заказ шаурмы за 5 рублей, чтобы получить выгодное предложение.                                          | UC 1.3 Оформить заказ по акции              |
| Клиент              | US-1.4 Как клиент, я хочу отслеживать статус заказа в реальном времени, чтобы знать, когда еда будет готова.                                | UC 1.4 Отслеживать статус заказа           |
| Клиент              | US-1.5 Как клиент, я хочу оплатить заказ онлайн или наличными при получении, чтобы выбрать удобный способ.                                 | UC 1.5 Оплатить заказ                      |
| Администратор       | US-2.1 Как администратор ресторана, я хочу управлять меню (добавлять, изменять, удалять блюда), чтобы актуализировать ассортимент.          | UC 2.1 Управлять меню                      |
| Администратор       | US-2.2 Как администратор, я хочу видеть список текущих заказов и их статусы, чтобы контролировать работу кухни и курьеров.                   | UC 2.2 Просматривать заказы                |
| Администратор       | US-2.3 Как администратор, я хочу управлять акцией «Шаурма за 5 рублей» (устанавливать лимиты, время действия), чтобы регулировать спрос.    | UC 2.3 Управлять акциями                   |
| Курьер              | US-3.1 Как курьер, я хочу получать уведомления о новых заказах с адресом доставки, чтобы своевременно начать доставку.                      | UC 3.1 Получать задания на доставку        |
| Курьер              | US-3.2 Как курьер, я хочу отмечать выполнение заказа в приложении, чтобы клиент и администратор видели статус.                              | UC 3.2 Отмечать выполнение заказа          |

---

## Детальные сценарии вариантов использования

### UC 1.1 Просмотреть меню

**Идентификатор:** UC-1.1  
**Название:** Просмотреть меню  
**Актор:** Клиент  
**Описание:** Клиент просматривает меню ресторана с ценами и фотографиями блюд  

**Предусловия:**
- Клиент открыл веб-приложение или мобильное приложение
- Сервер доступен и функционирует

**Основной сценарий:**
1. Клиент открывает главную страницу приложения
2. Система отображает список категорий блюд (Шаурма, Напитки, Десерты и т.д.)
3. Клиент выбирает категорию "Шаурма"
4. Система отображает список блюд в категории с фотографиями, названиями и ценами
5. Клиент просматривает информацию о блюдах
6. Клиент нажимает на блюдо "Шаурма за 5 рублей"
7. Система отображает детальную информацию: фото, описание, состав, калорийность, цена
8. Клиент возвращается к списку блюд или добавляет блюдо в корзину

**Альтернативные сценарии:**
- 4a. Если в категории нет блюд:
  - Система отображает сообщение "В данной категории пока нет блюд"
  - Клиент возвращается к списку категорий
- 7a. Если информация о блюде не полная:
  - Система отображает доступную информацию
  - Недоступные поля не отображаются

**Постусловия:**
- Клиент ознакомлен с меню
- Клиент может добавить блюдо в корзину

---

### UC 1.3 Оформить заказ по акции

**Идентификатор:** UC-1.3  
**Название:** Оформить заказ по акции "Шаурма за 5 рублей"  
**Актор:** Клиент  
**Описание:** Клиент оформляет заказ шаурмы по акционной цене 5 рублей  

**Предусловия:**
- Клиент авторизован в системе
- Акция "Шаурма за 5 рублей" активна
- Есть доступные шаурмы по акции

**Основной сценарий:**
1. Клиент открывает меню и видит баннер с акцией "Шаурма за 5 рублей"
2. Клиент нажимает на баннер или выбирает акционное блюдо
3. Система отображает информацию об акции: условия, лимиты, оставшееся количество
4. Клиент нажимает "Добавить в корзину"
5. Система проверяет доступность акционного предложения
6. Система добавляет шаурму в корзину по цене 5 рублей
7. Клиент переходит в корзину
8. Система отображает корзину с акционной шаурмой (цена 5 руб)
9. Клиент выбирает ресторан для самовывоза из списка
10. Клиент указывает желаемое время получения
11. Клиент выбирает способ оплаты (онлайн или при получении)
12. Клиент подтверждает заказ
13. Система создает заказ со статусом "Оплачивается" или "Принят"
14. Система отправляет уведомление клиенту с номером заказа

**Альтернативные сценарии:**
- 5a. Если акционные шаурмы закончились:
  - Система отображает сообщение "К сожалению, акционные шаурмы закончились"
  - Предлагает добавить шаурму по обычной цене (120 руб)
- 5b. Если клиент уже использовал акцию сегодня:
  - Система отображает "Вы уже воспользовались акцией сегодня. Следующая шаурма за 5₽ будет доступна завтра"
  - Предлагает добавить шаурму по обычной цене
- 11a. Если выбрана онлайн-оплата:
  - Система перенаправляет на платежный шлюз
  - После успешной оплаты заказ переходит в статус "Принят"
  - При неуспешной оплате заказ отменяется

**Постусловия:**
- Заказ создан в системе
- Клиент получил уведомление с номером заказа
- Ресторан получил заказ на приготовление

---

### UC 1.4 Отслеживать статус заказа

**Идентификатор:** UC-1.4  
**Название:** Отслеживать статус заказа  
**Актор:** Клиент  
**Описание:** Клиент отслеживает статус своего заказа в реальном времени  

**Предусловия:**
- Клиент оформил заказ
- Клиент авторизован в системе

**Основной сценарий:**
1. Клиент открывает раздел "Мои заказы"
2. Система отображает список заказов клиента (активные и завершенные)
3. Клиент выбирает текущий активный заказ
4. Система отображает детальную информацию о заказе:
   - Номер заказа
   - Состав заказа
   - Статус: "Принят" → "Готовится" → "Готов" → "Выполнен"
   - Время оформления и прогноз времени готовности
   - Адрес ресторана
5. Клиент видит текущий статус "Готовится"
6. Система автоматически обновляет статус (через WebSocket или polling)
7. Статус меняется на "Готов к получению"
8. Система отправляет push-уведомление клиенту
9. Клиент забирает заказ в ресторане
10. Курьер/администратор отмечает заказ как "Выполнен"
11. Система обновляет статус на "Выполнен"

**Альтернативные сценарии:**
- 4a. Если выбран заказ с доставкой:
  - Система дополнительно отображает:
    - Имя курьера
    - Контактный телефон
    - Текущее местоположение курьера на карте
    - Примерное время прибытия
- 6a. Если заказ задерживается:
  - Система отображает уведомление о задержке
  - Указывает новое прогнозируемое время готовности
- 10a. Если клиент не забрал заказ в течение 30 минут:
  - Система отправляет напоминание
  - После 1 часа заказ может быть отменен

**Постусловия:**
- Клиент информирован о текущем статусе заказа
- Клиент получил уведомление об изменении статуса

---

### UC 2.1 Управлять меню

**Идентификатор:** UC-2.1  
**Название:** Управлять меню (CRUD операции)  
**Актор:** Администратор  
**Описание:** Администратор управляет меню ресторана: добавляет, изменяет, удаляет блюда  

**Предусловия:**
- Администратор авторизован в системе
- Администратор имеет права на управление меню

**Основной сценарий (Добавление блюда):**
1. Администратор входит в панель управления
2. Администратор открывает раздел "Управление меню"
3. Система отображает текущий список блюд по категориям
4. Администратор нажимает "Добавить новое блюдо"
5. Система отображает форму добавления блюда:
   - Название блюда (обязательно)
   - Описание
   - Категория (выбор из списка)
   - Цена (обязательно)
   - Фотография
   - Состав
   - Калорийность
   - Аллергены
6. Администратор заполняет поля:
   - Название: "Шаурма Королевская"
   - Описание: "Шаурма с двойной порцией мяса"
   - Категория: "Шаурма"
   - Цена: 250
   - Загружает фотографию
7. Администратор нажимает "Сохранить"
8. Система валидирует введенные данные
9. Система сохраняет новое блюдо в базе данных
10. Система отображает сообщение "Блюдо успешно добавлено"
11. Новое блюдо появляется в списке и доступно клиентам

**Альтернативный сценарий (Редактирование блюда):**
1-3. Как в основном сценарии
4. Администратор выбирает существующее блюдо
5. Администратор нажимает "Редактировать"
6. Система отображает форму с текущими данными блюда
7. Администратор изменяет цену с 120 руб на 130 руб
8. Администратор нажимает "Сохранить"
9. Система обновляет данные в базе
10. Система отображает "Изменения сохранены"

**Альтернативный сценарий (Удаление блюда):**
1-3. Как в основном сценарии
4. Администратор выбирает блюдо для удаления
5. Администратор нажимает "Удалить"
6. Система отображает подтверждение: "Вы уверены, что хотите удалить 'Шаурма с говядиной'?"
7. Администратор подтверждает удаление
8. Система проверяет, нет ли активных заказов с этим блюдом
9. Система помечает блюдо как неактивное (soft delete)
10. Блюдо исчезает из меню для клиентов

**Исключительные сценарии:**
- 8a. Если не заполнены обязательные поля:
  - Система отображает "Заполните обязательные поля: название, цена"
  - Подсвечивает незаполненные поля красным
- 8b. Если цена указана некорректно (отрицательная или 0):
  - Система отображает "Цена должна быть положительным числом"
- 8c. Если размер фотографии превышает 5 МБ:
  - Система отображает "Размер фотографии не должен превышать 5 МБ"

**Постусловия:**
- Меню обновлено
- Изменения видны клиентам
- История изменений зафиксирована в логах

---

### UC 3.1 Получать задания на доставку

**Идентификатор:** UC-3.1  
**Название:** Получать задания на доставку  
**Актор:** Курьер  
**Описание:** Курьер получает уведомления о новых заказах на доставку  

**Предусловия:**
- Курьер авторизован в мобильном приложении
- Курьер установил статус "Доступен для заказов"
- Курьер находится в рабочей зоне

**Основной сценарий:**
1. Курьер открывает мобильное приложение курьера
2. Курьер устанавливает статус "Доступен"
3. Система фиксирует текущее местоположение курьера
4. Клиент оформляет заказ с доставкой на дом
5. Система создает задачу доставки
6. Система выбирает ближайшего доступного курьера
7. Система отправляет push-уведомление курьеру: "Новый заказ на доставку!"
8. Курьер видит уведомление и открывает детали заказа:
   - Номер заказа: #12345
   - Адрес ресторана: ул. Ленина, 10
   - Адрес доставки: ул. Победителей, 45, кв. 12
   - Состав заказа: 2x Шаурма с курицей, 1x Кола
   - Сумма заказа: 290 руб (оплачен онлайн)
   - Дистанция: 2.5 км
   - Время на доставку: 20 минут
9. Курьер нажимает "Принять заказ"
10. Система назначает заказ курьеру
11. Система обновляет статус заказа: "Передан курьеру"
12. Система отображает маршрут на карте: ресторан → адрес клиента
13. Курьер едет в ресторан
14. Курьер нажимает "Я в ресторане"
15. Система уведомляет ресторан о прибытии курьера
16. Курьер забирает заказ
17. Курьер нажимает "Заказ забран, еду к клиенту"
18. Система обновляет статус: "В пути"
19. Клиент видит в приложении местоположение курьера на карте
20. Курьер доставляет заказ клиенту
21. Курьер нажимает "Заказ доставлен"
22. Система обновляет статус заказа: "Выполнен"
23. Система возвращает курьера в статус "Доступен"

**Альтернативные сценарии:**
- 9a. Если курьер отклоняет заказ:
  - Курьер нажимает "Отклонить"
  - Система запрашивает причину отказа
  - Система назначает заказ другому курьеру
- 9b. Если курьер не отвечает в течение 2 минут:
  - Система автоматически переназначает заказ другому курьеру
  - Система фиксирует пропущенный заказ в статистике курьера
- 20a. Если клиент не отвечает на дверь:
  - Курьер нажимает "Клиент недоступен"
  - Курьер звонит клиенту через приложение
  - Если клиент не отвечает 10 минут, курьер связывается с диспетчером
  - Заказ может быть возвращен в ресторан
- 20b. Если нужна оплата наличными:
  - Курьер нажимает "Принять оплату наличными"
  - Вводит сумму, полученную от клиента
  - Указывает сдачу, выданную клиенту
  - Система фиксирует оплату

**Постусловия:**
- Заказ доставлен клиенту
- Статус заказа обновлен: "Выполнен"
- Курьер снова доступен для новых заказов
- Клиент может оставить отзыв о доставке

---